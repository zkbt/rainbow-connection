<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Sunsets &#8212; rainbow-connection 0.0.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api.html" />
    <link rel="prev" title="Atmospheres" href="atmospheres.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }
</style>
<div class="section" id="Sunsets">
<h1>Sunsets<a class="headerlink" href="#Sunsets" title="Permalink to this headline">¶</a></h1>
<p>One of the main goals of the <code class="docutils literal"><span class="pre">rainbowconnection</span></code> to help visualize
what sunsets would look like on other planets. The <code class="docutils literal"><span class="pre">Sunset</span></code> object
connects a <code class="docutils literal"><span class="pre">Spectrum</span></code> light source to an <code class="docutils literal"><span class="pre">Atmosphere</span></code> that can
transmit light. <code class="docutils literal"><span class="pre">Sunset</span></code>s inherit most of the visualization
framework from the <code class="docutils literal"><span class="pre">Spectrum</span></code> class definition, and they add some
extra features too.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">rainbowconnection</span> <span class="k">as</span> <span class="nn">rc</span>
<span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
</pre></div>
</div>
</div>
<div class="section" id="Basics-of-Sunset-Objects">
<h2>Basics of <code class="docutils literal"><span class="pre">Sunset</span></code> Objects<a class="headerlink" href="#Basics-of-Sunset-Objects" title="Permalink to this headline">¶</a></h2>
<p>Imagine we want to see what some light source would look like,
propagated through some atmosphere. We first create the light source and
the atmosphere, and then connect the two of them together. The light
source needs to be in the form of a flux (<span class="math">\(W/m^2\)</span>) from the source
seen from a distance, not a luminosity (<span class="math">\(W\)</span>).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># create the light source</span>
<span class="n">source</span> <span class="o">=</span> <span class="n">rc</span><span class="o">.</span><span class="n">Sun</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">au</span><span class="p">)</span>

<span class="c1"># create an atmosphere</span>
<span class="n">atmosphere</span> <span class="o">=</span> <span class="n">rc</span><span class="o">.</span><span class="n">Earth</span><span class="p">()</span>

<span class="c1"># connect the two together</span>
<span class="n">sunset</span> <span class="o">=</span> <span class="n">atmosphere</span><span class="o">.</span><span class="n">transmit</span><span class="p">(</span><span class="n">source</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>Out[3]:
</pre></div>
</div>
<div class="output_area highlight-none"><div class="highlight"><pre>
<span></span>Sun (5772 K, 1.0 solRad) at 1.0 AU
 through
EarthAtmosphere (0.0 deg from zenith, 0.0 scale heights from reference)
</pre></div>
</div>
</div>
</div>
<div class="section" id="Visualizing-Sunsets">
<h2>Visualizing Sunsets<a class="headerlink" href="#Visualizing-Sunsets" title="Permalink to this headline">¶</a></h2>
<p>Once we&#8217;ve connected a flux source and an atmosphere, we can plot them
in different ways. This starts with the spectrum of sunlight filtered
through the atmosphere as a simple plot</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_7_0.png" src="_images/sunsets_7_0.png" />
</div>
</div>
<p>or as a rainbow</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_as_rainbow</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_9_0.png" src="_images/sunsets_9_0.png" />
</div>
</div>
<p>or as RGB colors</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_rgb</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_11_0.png" src="_images/sunsets_11_0.png" />
</div>
</div>
<p>or as a colorful disk</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_disk</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_13_0.png" src="_images/sunsets_13_0.png" />
</div>
</div>
<p>or as a simulated sunset including the diffuse sky</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_sunset</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_15_0.png" src="_images/sunsets_15_0.png" />
</div>
</div>
<p>We can also put all of these components together in one big plot</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_everything</span><span class="p">(</span><span class="n">zenith_angle</span><span class="o">=</span><span class="mi">45</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_17_0.png" src="_images/sunsets_17_0.png" />
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">plot_everything</span><span class="p">(</span><span class="n">zenith_angle</span><span class="o">=</span><span class="mi">85</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_18_0.png" src="_images/sunsets_18_0.png" />
</div>
</div>
<p>or make an animation with the solar zenith angle changing over time</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="n">sunset</span><span class="o">.</span><span class="n">animate_everything</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;_static/earth-sunset.mp4&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="stderr output_area docutils container">
<div class="highlight"><pre>
100%|██████████| 103/103 [04:20&lt;00:00,  2.57s/it]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_20_1.png" src="_images/sunsets_20_1.png" />
</div>
</div>
<video src="_static/earth-sunset.mp4" width=100% controls autoplay loop></div>
<div class="section" id="The-Diffuse-Sky">
<h2>The Diffuse Sky<a class="headerlink" href="#The-Diffuse-Sky" title="Permalink to this headline">¶</a></h2>
<p>In trying to visualize what the sky might look like, we&#8217;re adding some
diffuse light from the sky away from the disk of the star. Though the
color of this diffuse sky is hopefully about right, its brightness is
artificially enhanced. The diffuse sky intensity is so faint that it
would appear black when rendered on the same linear color scale as the
disk of the star, so we fudge things a little bit.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># create a nearby Sun</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">rc</span><span class="o">.</span><span class="n">Sun</span><span class="p">()</span><span class="o">.</span><span class="n">at</span><span class="p">(</span><span class="mf">0.1</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">au</span><span class="p">)</span>

<span class="c1"># create a hot Jupiter atmosphere</span>
<span class="n">e</span> <span class="o">=</span> <span class="n">rc</span><span class="o">.</span><span class="n">HotJupiter</span><span class="p">()</span>

<span class="c1"># connect the two</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">transmit</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="c1"># plot the sunset for this</span>
<span class="n">t</span><span class="o">.</span><span class="n">plot_everything</span><span class="p">(</span><span class="n">zenith_angle</span><span class="o">=</span><span class="mi">85</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">deg</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="_images/sunsets_23_0.png" src="_images/sunsets_23_0.png" />
</div>
</div>
<p>On Earth, the diffuse sky comes solely from Rayleigh scattering. On a
hot Jupiter, the atmosphere is hot enough that it actually contributes a
bit of thermal emission to the diffuse sky too &#8211; that&#8217;s what&#8217;s adding
the purple glow above.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="light-sources.html">Light Sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="atmospheres.html">Atmospheres</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Sunsets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Basics-of-Sunset-Objects">Basics of <code class="docutils literal"><span class="pre">Sunset</span></code> Objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Visualizing-Sunsets">Visualizing Sunsets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#The-Diffuse-Sky">The Diffuse Sky</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="atmospheres.html" title="previous chapter">Atmospheres</a></li>
      <li>Next: <a href="api.html" title="next chapter">API</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/sunsets.ipynb.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Zach Berta-Thompson.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/sunsets.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>